import{_ as B,r as v,o as c,c as V,y as a,s as l,J as u,bt as C,z as r,V as b,A as _,L as m,W as N,H as p,K as e,P as i,a5 as h,T as R,S as y,Q as k,R as I}from"./app-CgYTy_-w.js";import{V as g,a as A}from"./VSlider-CQI1pmBf.js";import{V as D,a as T}from"./VRadioGroup-C5pjvyuA.js";import{V as S}from"./VTable-BHsTyXbe.js";const G={name:"mycoperative-loan-edit",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}),sheet:!1,text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2]}),methods:{fresh(){this.record={...this.record,transfermode:1,bank_type:null,bank_account_name:null,bank_account_number:null}},calculateLoanGrandTotal(s,o){o.total_principal=Math.round(o.total_principal*100)/100,o.percent_interest=o.percent_default*o.tenor,o.total_interest=Math.round(o.total_principal*(o.percent_default/100)*o.tenor*100)/100,o.monthly_interest=Math.round((o.total_principal/o.tenor+o.total_interest/o.tenor)*100)/100,o.grandtotal=o.total_principal+o.admfee+o.total_interest}}},P={class:"text-h5"},w={class:"text-h5"},L={class:"px-4"},M=e("small",null,"Cicilan per bulan",-1),j={class:"text-h6"},F=e("br",null,null,-1),K=e("br",null,null,-1),$=e("td",null," Total Pokok Pinjaman ",-1),z=e("td",null,":",-1),H=e("td",null," Total Bunga [%] ",-1),J=e("td",null,":",-1),Q=e("td",null," Total Bunga [Rp] ",-1),W=e("td",null,":",-1),q=e("td",null,"Admin Fee",-1),E=e("td",null,":",-1),O=e("td",null,"Grand Total",-1),X=e("td",null,":",-1);function Y(s,o,Z,ll,tl,f){const U=v("v-currency-field"),x=v("form-edit");return c(),V(x,{"with-helpdesk":""},{default:a(({record:t,theme:d})=>[l(m,{class:"overline py-2 relative"},{default:a(()=>[l(u,{class:"py-2 mt-5 text-end",cols:"12"},{default:a(()=>[l(C,{modelValue:t.loan_type,"onUpdate:modelValue":n=>t.loan_type=n,color:d,rounded:"1",group:""},{default:a(()=>[l(r,{value:"personal"},{default:a(()=>[l(b,null,{default:a(()=>[_("person")]),_:1})]),_:1}),l(r,{value:"unit",disabled:!t.is_chief},{default:a(()=>[l(b,null,{default:a(()=>[_("apartment")]),_:1})]),_:2},1032,["disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","color"])]),_:2},1024)]),_:2},1024),l(N),l(m,null,{default:a(()=>[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[e("div",P,i(s.formatter.format(t.total_principal)),1)]),_:2},1024),t.loan_type==="personal"?(c(),V(u,{key:0,cols:"12"},{default:a(()=>[l(g,{color:d,modelValue:t.total_principal,"onUpdate:modelValue":[n=>t.total_principal=n,n=>f.calculateLoanGrandTotal(n,t)],max:t.loan_maximal,min:t.loan_minimal,step:t.loan_step,"hide-details":""},null,8,["color","modelValue","onUpdate:modelValue","max","min","step"])]),_:2},1024)):(c(),V(u,{key:1,cols:"12"},{default:a(()=>[l(U,{color:d,label:"Nominal Pinjaman",modelValue:t.total_principal,"onUpdate:modelValue":n=>t.total_principal=n,onKeyup:n=>f.calculateLoanGrandTotal(n,t)},null,8,["color","modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1024))]),_:2},1024)]),_:2},1024),l(h,{class:"overline"},{default:a(()=>[_("Tenor")]),_:1}),l(m,{class:"pt-0"},{default:a(()=>[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[e("div",w,i(t.tenor)+"x",1)]),_:2},1024),l(u,{cols:"12"},{default:a(()=>[l(g,{color:d,max:t.loan_tenor_maximal,min:t.loan_tenor_minimal,step:1,modelValue:t.tenor,"onUpdate:modelValue":[n=>t.tenor=n,n=>f.calculateLoanGrandTotal(n,t)],"hide-details":""},null,8,["color","max","min","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(h,{class:"overline"}),l(m,{class:"pt-0"}),l(h,{class:"overline"},{default:a(()=>[_("Metode pembayaran")]),_:1}),l(m,{class:"pt-0"},{default:a(()=>[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[l(D,{modelValue:t.transfermode,"onUpdate:modelValue":n=>t.transfermode=n,"hide-details":"",column:""},{default:a(()=>[l(T,{label:"CASH",value:1,onClick:n=>f.fresh(t)},null,8,["onClick"]),l(T,{label:"BANK",value:2})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(p,{class:"mt-10"},{default:a(()=>[l(u,{cols:"4"},{default:a(()=>[l(R,{color:d,disabled:t.transfermode===1,items:["BRI","BCA","BNI","BTPN","MANDIRI"],label:"Bank",modelValue:t.bank_type,"onUpdate:modelValue":n=>t.bank_type=n,"hide-details":"",variant:"outlined"},null,8,["color","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"8"},{default:a(()=>[l(y,{color:d,disabled:t.transfermode===1,label:"Atas Nama",modelValue:t.bank_account_name,"onUpdate:modelValue":n=>t.bank_account_name=n,"hide-details":"",variant:"outlined"},null,8,["color","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{cols:"12"},{default:a(()=>[l(y,{color:d,disabled:t.transfermode===1,label:"Nomor Rekening",modelValue:t.bank_account_number,"onUpdate:modelValue":n=>t.bank_account_number=n,variant:"outlined"},null,8,["color","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(k,{class:"position-sticky bottom-0 mx-4",flat:"",color:`${d}-lighten-5`},{default:a(()=>[e("div",L,[M,l(r,{icon:"",onClick:o[0]||(o[0]=n=>s.sheet=!s.sheet),variant:"text",size:"small"},{default:a(()=>[l(b,null,{default:a(()=>[_("arrow_drop_up")]),_:1})]),_:1}),e("div",j,i(s.formatter.format(t.monthly_interest)),1),l(A,{modelValue:s.sheet,"onUpdate:modelValue":o[2]||(o[2]=n=>s.sheet=n)},{default:a(()=>[l(k,{style:{"border-top-left-radius":"25px","border-top-right-radius":"25px"}},{default:a(()=>[l(m,null,{default:a(()=>[l(r,{variant:"text",onClick:o[1]||(o[1]=n=>s.sheet=!s.sheet),class:"text-end"},{default:a(()=>[_(" close ")]),_:1}),F,K,l(I,null,{default:a(()=>[_("Detals Pinjaman")]),_:1}),e("div",null,[l(p,{dense:""},{default:a(()=>[l(u,{cols:"12"},{default:a(()=>[l(S,null,{default:a(()=>[e("tbody",null,[e("tr",null,[$,z,e("td",null,i(s.formatter.format(t.total_principal)),1)]),e("tr",null,[H,J,e("td",null,i(t.percent_interest)+"% ",1)]),e("tr",null,[Q,W,e("td",null,i(s.formatter.format(t.total_interest)),1)]),e("tr",null,[q,E,e("td",null,i(s.formatter.format(t.admfee)),1)]),e("tr",null,[O,X,e("td",null,i(s.formatter.format(t.grandtotal)),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])])]),_:2},1032,["color"]),l(m)]),_:1})}const sl=B(G,[["render",Y]]);export{sl as default};
