import{_ as D,r as g,o as s,c as V,y as t,s as a,D as f,E as R,F as C,L as h,W as y,H as S,J as E,$ as w,z as B,A as I,K as M,X as T,V as L,P as v}from"./app-CgYTy_-w.js";const F={name:"coperative-deposit-data",data:()=>({dialogReport:!1,menuDateStart:!1,dateStart:null,menuDateEnd:!1,dateEnd:null,reportMode:null,reportYear:2023,fileImport:null}),methods:{printReport(e){this.dialogReport=!1,e.loader.state=!0;let o={};switch(o.mode=this.reportMode,o.filters=e.pageFilters,this.reportMode){case"laporan_simpanan":case"piutang_simpanan":o.date_start=this.dateStart,o.date_end=this.dateEnd;break;default:o.year=this.reportYear;break}e.$http("coperative/api/deposit/print-report",{method:"GET",params:o,responseType:"blob"}).then(_=>{const n=new Date;let k=n.getDate(),i=n.getMonth()+1,p=n.getFullYear();const c=new Blob([_],{type:"application/pdf"}),l=document.createElement("a");l.href=URL.createObjectURL(c),l.download=this.reportMode+`_${k}-${i}-${p}.pdf`,l.click(),URL.revokeObjectURL(l.href),e.loader.state=!1,this.dateStart=null,this.dateEnd=null,this.reportMode=null}).catch(()=>{e.loader.state=!1})},processImportData(e){e.$http("coperative/api/deposit/import-data",{method:"POST",contentType:"multipart/form-data",params:{file:this.fileImport}}).then(()=>{e.snackbar.color="green",e.snackbar.text="Berhasil diImport",e.snackbar.state=!0}).catch(()=>{})}}},U=["onClick"],O={key:1},N=M("div",{class:"overline"},"import data",-1);function P(e,o,_,n,k,i){const p=g("item-data"),c=g("form-data");return s(),V(c,{"hide-create":""},{desktopRow:t(({headers:l,index:m,internalItem:r,isSelected:$,record:d,toggleSelect:b})=>[a(p,{headers:l,item:d,index:m,internalItem:r,isSelected:$,toggleSelect:b},{default:t(()=>[(s(!0),f(C,null,R(l,(u,x)=>(s(),f("td",{key:x,class:T(u.mode==="icon"?"text-center":"text-left"),onClick:Y=>b(r)},[u.mode==="icon"?(s(),V(L,{key:0,color:d.paid===!0?"green":"black"},{default:t(()=>[I(v(d.paid===!0?"check_circle":"unpublished "),1)]),_:2},1032,["color"])):(s(),f("span",O,v(d[u.value]),1))],10,U))),128))]),_:2},1032,["headers","item","index","internalItem","isSelected","toggleSelect"])]),info:t(({theme:l,store:m})=>[a(h,{class:"d-flex py-1"},{default:t(()=>[N]),_:1}),a(y),a(h,{class:"pt-2 pb-4"},{default:t(()=>[a(S,{"no-gutters":""},{default:t(()=>[a(E,{cols:"12"},{default:t(()=>[a(w,{"prepend-icon":"","prepend-inner-icon":"attach_file",label:"Import Data","truncate-length":"15",modelValue:e.fileImport,"onUpdate:modelValue":o[0]||(o[0]=r=>e.fileImport=r),"hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(y),a(h,null,{default:t(()=>[a(B,{color:l,depressed:"",dark:"",block:"",onClick:r=>i.processImportData(m)},{default:t(()=>[I("IMPORT")]),_:2},1032,["color","onClick"])]),_:2},1024)]),feed:t(()=>[]),filter:t(()=>[]),_:1})}const z=D(F,[["render",P]]);export{z as default};
