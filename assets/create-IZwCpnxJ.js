import{_,o as l,g as c,t as D,e as d,c as o,w as u,a as s,k as f,j as i,d as A,V as k,F as U,r as j,G as R,bt as h,m as v}from"./app-CDLuvF5r.js";import{V as m}from"./VCombobox-B6HAFz-8.js";const x={name:"infrastructure-tax-create-asset",props:["record","data"],methods:{changeUnit:function(n,e){n.asset!=null&&n.asset.assetable_type_key!=null?n.asset={type:n.asset.assetable_type_key}:n.asset={},e.refAsset=void 0,e.refAssetType==null&&e.getRefAssetType(n,e),n.asset!=null&&n.asset.assetable_type_key!=null&&e.getRefAsset(n,e)},changeAssetType:function(n,e){e.getRefAsset(n,e),n.asset={assetable_type_key:n.asset.assetable_type_key}},changeAsset:function(n,e){n.asset={...n.asset,...e.refAsset.assets_slugs[n.asset.slug]}}}},I={key:0};function N(n,e,t,V,b,r){return l(),c(U,null,[t.data.refUnit==null?(l(),c("div",I,D(t.data.getRefUnit(t.record,t.data)),1)):d("",!0),t.data.refUnit!=null?(l(),o(i,{key:1,dense:""},{default:u(()=>[s(f,{cols:"12"},{default:u(()=>[s(m,{"return-object":!0,items:t.data.refUnit.units,"item-title":"name",modelValue:t.record.unit,"onUpdate:modelValue":[e[0]||(e[0]=a=>t.record.unit=a),e[1]||(e[1]=a=>r.changeUnit(t.record,t.data))],label:"Untuk "+t.record.type+" dari unit"},null,8,["items","modelValue","label"])]),_:1})]),_:1})):d("",!0),t.data.refAssetType!=null?(l(),o(i,{key:2,dense:""},{default:u(()=>[s(f,{cols:"12"},{default:u(()=>[s(m,{items:t.data.refAssetType,"item-title":"name","return-object":!1,modelValue:t.record.asset.assetable_type_key,"onUpdate:modelValue":[e[2]||(e[2]=a=>t.record.asset.assetable_type_key=a),e[3]||(e[3]=a=>r.changeAssetType(t.record,t.data))],label:"Pilih Jenis Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):d("",!0),t.data.refAsset!=null&&t.data.refAsset.assets!=null&&t.data.refAsset.assets.length>0?(l(),o(i,{key:3,dense:""},{default:u(()=>[s(f,{cols:"6"},{default:u(()=>[s(m,{items:t.data.refAsset.assets,"return-object":!1,readonly:!0,modelValue:t.record.asset.name,"onUpdate:modelValue":e[4]||(e[4]=a=>t.record.asset.name=a),label:"Nama Asset"},null,8,["items","modelValue"])]),_:1}),s(f,{cols:"6"},{default:u(()=>[s(m,{items:t.data.refAsset.assets_slugs_combos,"return-object":!1,modelValue:t.record.asset.slug,"onUpdate:modelValue":[e[5]||(e[5]=a=>t.record.asset.slug=a),e[6]||(e[6]=a=>r.changeAsset(t.record,t.data))],label:"Slug Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):d("",!0),t.data.refAsset!=null&&t.data.refAsset.assets!=null&&t.data.refAsset.assets.length==0?(l(),o(i,{key:4,dense:""},{default:u(()=>[s(k,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:!0},{default:u(()=>e[7]||(e[7]=[A("Tidak Ditemukan")])),_:1})]),_:1})):d("",!0)],64)}const w=_(x,[["render",N]]),C={name:"infrastructure-tax-create-document",data(){return{jenisHubungan:["Iya","Tidak"],jenis:void 0}},props:["record","data"],methods:{changeUnit:function(n,e,t){n.asset!=null&&n.asset.assetable_type_key!=null?n.asset={type:n.asset.assetable_type_key}:n.asset={},e.refAsset=void 0,e.refDocument=void 0,e.refAssetType==null&&e.getRefAssetType(n,e),n.jenis=="Iya"&&n.asset!=null&&n.asset.assetable_type_key!=null&&e.getRefAsset(n,e),n.jenis=="Tidak"&&e.getRefDocument(n,e,n.jenis=="Iya")},changeDocumentType:function(n,e,t){e.refDocument=void 0,n.document={},console.log(n.jenis,e.refAssetType),n.jenis=="Tidak"?e.getRefDocument(n,e,n.jenis=="Iya"):n.jenis=="Iya"&&(e.refAssetType==null?e.getRefAssetType(n,e):e.getRefAsset(n,e))},changeAssetType:function(n,e){e.refDocument=void 0,e.getRefAsset(n,e),n.asset!=null&&n.asset.assetable_type_key!=null?n.asset={type:n.asset.assetable_type_key}:n.asset={}},changeAsset:function(n,e,t){n.asset={...n.asset,...e.refAsset.assets_slugs[n.asset.slug]},n.document={},e.getRefDocument(n,e,n.jenis=="Iya")},changeDocument:function(n,e){n.document=e.refDocument.documents_ids[n.document.id]}}},B={key:0},S={key:2};function F(n,e,t,V,b,r){return l(),c(U,null,[t.data.refUnit==null?(l(),c("div",B,D(t.data.getRefUnit(t.record,t.data)),1)):d("",!0),t.data.refUnit!=null?(l(),o(i,{key:1,dense:""},{default:u(()=>[s(f,{cols:"12"},{default:u(()=>[s(m,{"return-object":!0,items:t.data.refUnit.units,"item-title":"name",modelValue:t.record.unit,"onUpdate:modelValue":[e[0]||(e[0]=a=>t.record.unit=a),e[1]||(e[1]=a=>r.changeUnit(t.record,t.data,this))],label:"Untuk "+t.record.type+" Dari Unit"},null,8,["items","modelValue","label"])]),_:1})]),_:1})):d("",!0),s(i,{dense:""},{default:u(()=>[s(f,{cols:"12"},{default:u(()=>[s(m,{items:b.jenisHubungan,"return-object":!1,modelValue:t.record.jenis,"onUpdate:modelValue":[e[2]||(e[2]=a=>t.record.jenis=a),e[3]||(e[3]=a=>r.changeDocumentType(t.record,t.data,this))],label:"Apakah Dokumen Terhubung Dengan Asset Dari Unit Ini?"},null,8,["items","modelValue"])]),_:1})]),_:1}),t.record.jenis=="Iya"?(l(),c("div",S,[t.data.refAssetType!=null?(l(),o(i,{key:0,dense:""},{default:u(()=>[s(f,{cols:"12"},{default:u(()=>[s(m,{items:t.data.refAssetType,"item-title":"name","return-object":!1,modelValue:t.record.asset.assetable_type_key,"onUpdate:modelValue":[e[4]||(e[4]=a=>t.record.asset.assetable_type_key=a),e[5]||(e[5]=a=>r.changeAssetType(t.record,t.data,this))],label:"Pilih Jenis Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):d("",!0),t.data.refAsset!=null&&t.data.refAsset.assets!=null&&t.data.refAsset.assets.length>0?(l(),o(i,{key:1,dense:""},{default:u(()=>[s(f,{cols:"6"},{default:u(()=>[s(m,{items:t.data.refAsset.assets,"return-object":!1,readonly:!0,modelValue:t.record.asset.name,"onUpdate:modelValue":e[6]||(e[6]=a=>t.record.asset.name=a),label:"Nama Asset"},null,8,["items","modelValue"])]),_:1}),s(f,{cols:"6"},{default:u(()=>[s(m,{items:t.data.refAsset.assets_slugs_combos,"return-object":!1,modelValue:t.record.asset.slug,"onUpdate:modelValue":[e[7]||(e[7]=a=>t.record.asset.slug=a),e[8]||(e[8]=a=>r.changeAsset(t.record,t.data,this))],label:"Slug Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):d("",!0),t.data.refAsset!=null&&t.data.refAsset.assets!=null&&t.data.refAsset.assets.length<=0?(l(),o(i,{key:2,dense:""},{default:u(()=>[s(k,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:!0},{default:u(()=>e[12]||(e[12]=[A("Tidak Ditemukan Asset")])),_:1})]),_:1})):d("",!0)])):d("",!0),t.data.refDocument!=null&&t.data.refDocument.documents!=null&&t.data.refDocument.documents.length>0?(l(),o(i,{key:3,dense:""},{default:u(()=>[s(f,{cols:"6"},{default:u(()=>[s(m,{"return-object":!1,readonly:!0,modelValue:t.record.document.name,"onUpdate:modelValue":e[9]||(e[9]=a=>t.record.document.name=a),label:"Nama Document"},null,8,["modelValue"])]),_:1}),s(f,{cols:"6"},{default:u(()=>[s(m,{items:t.data.refDocument.documents_ids_combos,"return-object":!1,modelValue:t.record.document.id,"onUpdate:modelValue":[e[10]||(e[10]=a=>t.record.document.id=a),e[11]||(e[11]=a=>r.changeDocument(t.record,t.data))],label:"Id Document"},null,8,["items","modelValue"])]),_:1})]),_:1})):d("",!0),t.data.refDocument!=null&&t.data.refDocument.documents!=null&&t.data.refDocument.documents.length<=0?(l(),o(i,{key:4,dense:""},{default:u(()=>[s(k,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:!0},{default:u(()=>e[13]||(e[13]=[A("Tidak Ditemukan Dokumen")])),_:1})]),_:1})):d("",!0)],64)}const H=_(C,[["render",F]]),J={name:"infrastructure-record-note-used-create",components:{asset:w,document:H},data(){return{refUnit:void 0,refAssetType:void 0,refAsset:void 0,refDocument:void 0}},methods:{changeTargetType:function(n,e){e.refAsset=void 0,e.refDocument=void 0,n.asset!=null?(n.asset={assetable_type_key:n.asset.assetable_type_key},e.getRefAsset(n,e)):n.asset={},n.document={}},getRefUnit:function(n,e){e.refAssetType==null&&(e.refUnit={},this.$http("infrastructure/api/ref-unit/combos").then(t=>{e.refUnit=t}))},getRefAssetType:function(n,e){e.refAssetType==null&&(e.refAssetType=[],this.$http("infrastructure/api/ref-asset/type").then(t=>{e.refAssetType=t}))},getRefAsset:function(n,e){n.unit==null||n.asset.assetable_type_key==null||(e.refAsset=[],this.$http(`infrastructure/api/ref-asset/${n.unit.id}/${n.asset.assetable_type_key}/asset`).then(t=>{e.refAsset=t}))},getRefDocument:function(n,e,t){t!=null&&(t&&e.getRefDocumentAsset(n,e),t||e.getRefDocummentUnit(n,e))},getRefDocummentUnit:function(n,e){this.$http(`infrastructure/api/ref-document/combos/unit/${n.unit.id}`).then(t=>{e.refDocument=t})},getRefDocumentAsset:function(n,e){this.$http(`infrastructure/api/ref-document/combos/unit/${n.unit.id}/asset/${n.asset.id}`).then(t=>{e.refDocument=t})}}};function P(n,e,t,V,b,r){const a=j("form-create");return l(),o(a,{"with-helpdesk":""},{default:u(({combos:{types:T},record:y})=>[s(v,null,{default:u(()=>[s(i,{dense:""},{default:u(()=>[s(f,{cols:"8"},{default:u(()=>[s(m,{items:T,label:"Tipe Yang Digunakan",modelValue:y.type,"onUpdate:modelValue":[g=>y.type=g,g=>r.changeTargetType(y,this)],"return-object":!1},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024),s(f,{cols:"4"},{default:u(()=>[s(R,{modelValue:y.dibekukan,"onUpdate:modelValue":g=>y.dibekukan=g,color:"primary",label:"Dibekukan"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(l(),o(h(y.type),{record:y,data:this},null,8,["record"]))]),_:2},1024)]),_:1})}const Y=_(J,[["render",P]]);export{Y as default};
