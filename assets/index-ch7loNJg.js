import{_ as I,D as u,s as t,y as e,bG as O,F as r,r as c,o as s,K as l,a4 as x,a0 as D,V as z,A as T,N as _,H as B,J as p,T as C,z as N,c as b,E as h,B as v,L as d}from"./app-D4-JbIhK.js";import{V as g}from"./VTable-DMOWl3nw.js";const F={name:"mycoperative-dashboard",data:()=>({modelOverlay:!1,tenors:[],tenor:null,formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{getTotalValue(i){return i.reduce((n,S)=>(n+=parseFloat(S.value),n),0)},onInitialized:function({record:i}){this.tenors=i.tenors,i.hasMainDeposit||(this.modelOverlay=!0)},postDepositMain:function(){this.$http("mycoperative/api/set-main-deposit",{method:"POST",params:{tenor:parseInt(this.tenor)}}).then(()=>{this.modelOverlay=!1})}}},A={class:"px-6"},M={class:"text-right"},P={class:"text-right"},E={class:"text-right"},J={class:"text-right"},L={style:{"text-align":"right"}};function R(i,n,S,$,j,k){const V=c("widget-number"),y=c("apexchart"),f=c("widget-card"),w=c("page-home");return s(),u(r,null,[t(O,{"model-value":i.modelOverlay,class:"align-center justify-center",persistent:""},{default:e(()=>[l("div",A,[t(x,{class:"text-center",rounded:"lg"},{default:e(()=>[t(D,{class:"mt-4",color:"warning",size:"64"},{default:e(()=>[t(z,{size:"36"},{default:e(()=>n[1]||(n[1]=[T("lightbulb")])),_:1})]),_:1}),t(_,null,{default:e(()=>[n[2]||(n[2]=T(" Anda belum menentukan termin simpanan pokok. Silahkan pilih termin di bawah ini dan klik simpan. ")),t(B,{class:"mt-2"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(C,{items:i.tenors,label:"Termin Simpanan Pokok",modelValue:i.tenor,"onUpdate:modelValue":n[0]||(n[0]=a=>i.tenor=a),"hide-details":""},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),t(_,{class:"pt-0"},{default:e(()=>[t(N,{block:"",onClick:k.postDepositMain},{default:e(()=>n[3]||(n[3]=[T("SIMPAN")])),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1},8,["model-value"]),t(w,{"page-name":"mycoperative-dashboard",onInitialized:k.onInitialized},{default:e(({record:a})=>[t(_,null,{default:e(()=>[t(B,{dense:""},{default:e(()=>[t(p,{cols:"12",md:"4"},{default:e(()=>[t(V,{"hide-icon":"",label:"Tabungan saat ini",icon:"account_balance_wallet",value:i.formatter.format(a.totalTabungan)},null,8,["value"])]),_:2},1024),t(p,{cols:"12",md:"4"},{default:e(()=>[t(V,{"hide-icon":"",label:"Total penarikan selama periode",icon:"receipt_long",value:i.formatter.format(a.totalPenarikan)},null,8,["value"])]),_:2},1024),t(p,{cols:"12",md:"4"},{default:e(()=>[t(V,{"hide-icon":"",label:"Total penarikan selama periode",icon:"payments",value:i.formatter.format(a.totalSaldo)},null,8,["value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(_,null,{default:e(()=>[t(B,null,{default:e(()=>[a&&a.depositByType?(s(),b(p,{key:0,cols:"12",md:"3"},{default:e(()=>[t(f,{title:a.depositByType.title},{table:e(()=>[t(g,{density:"compact"},{default:e(()=>[l("tbody",null,[(s(!0),u(r,null,h(a.depositByType.table,(o,m)=>(s(),u("tr",{key:m},[l("td",null,d(o.title),1),l("td",M,d(o.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(y,{type:"donut",options:a.depositByType.chartOptions,series:a.depositByType.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0),a&&a.savingsBalance?(s(),b(p,{key:1,cols:"12",md:"3"},{default:e(()=>[t(f,{title:a.savingsBalance.title},{table:e(()=>[t(g,{density:"compact"},{default:e(()=>[l("tbody",null,[(s(!0),u(r,null,h(a.savingsBalance.table,(o,m)=>(s(),u("tr",{key:m},[l("td",null,d(o.title),1),l("td",P,d(o.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(y,{type:"donut",options:a.savingsBalance.chartOptions,series:a.savingsBalance.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0),a&&a.loanvspayment?(s(),b(p,{key:2,cols:"12",md:"3"},{default:e(()=>[t(f,{title:a.loanvspayment.title},{table:e(()=>[t(g,{density:"compact"},{default:e(()=>[l("tbody",null,[(s(!0),u(r,null,h(a.loanvspayment.table,(o,m)=>(s(),u("tr",{key:m},[l("td",null,d(o.title),1),l("td",E,d(o.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(y,{type:"donut",options:a.loanvspayment.chartOptions,series:a.loanvspayment.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0),a&&a.loanbyStatus?(s(),b(p,{key:3,cols:"12",md:"3"},{default:e(()=>[t(f,{title:a.loanbyStatus.title,"with-count":""},{table:e(()=>[t(g,{density:"compact"},{default:e(()=>[l("tbody",null,[(s(!0),u(r,null,h(a.loanbyStatus.table,(o,m)=>(s(),u("tr",{key:m},[l("td",null,d(o.title),1),l("td",J,d(o.value),1)]))),128)),l("tr",null,[n[4]||(n[4]=l("td",null,"Jumlah",-1)),l("td",L,d(k.getTotalValue(a.loanbyStatus.table)),1)])])]),_:2},1024)]),default:e(()=>[t(y,{type:"donut",options:a.loanbyStatus.chartOptions,series:a.loanbyStatus.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["onInitialized"])],64)}const K=I(F,[["render",R]]);export{K as default};
