import{_ as w,r as I,o as u,c as _,y as e,s as t,z as P,L as b,A as p,D as v,E as T,F,K as o,J as d,P as c,H as h,T as V,Q as y,G as $,at as B,X as U,bu as D,bv as M}from"./app-CgYTy_-w.js";const S={name:"mycoperative-payment-create",data:()=>({datemenu:!1,formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),statuses:[]}),methods:{changePaymentMode(n,a){switch(n){case 1:a.grandtotal=a.total;break;case 2:a.grandtotal=a.total+a.sequence;break;case 3:a.grandtotal=a.total+a.sequence;break}},onItemClick(n,a){a.total=0;for(let i=0;i<a.details.length;i++)a.details[i].selected=!1;for(let i=0;i<=n;i++)switch(a.details[i].selected=!0,a.total=parseFloat(a.total)+parseFloat(a.details[i].grandtotal),a.paymentmode_id){case 1:a.grandtotal=a.total;break;case 2:a.grandtotal=a.total+a.sequence;break;case 3:a.grandtotal=a.total+a.sequence;break}}}},C=n=>(D("data-v-97c46a31"),n=n(),M(),n),q={class:"d-block pb-2"},N={class:"d-flex pa-2"},L={key:2,class:"ukuran"},z={class:"d-flex"},E=C(()=>o("small",null,"Total Pembayaran",-1)),J={class:"text-end"},R={class:"d-flex"},A=C(()=>o("small",null,"Total Pembayaran",-1)),G={class:"text-end"};function H(n,a,i,K,Q,r){const x=I("form-create");return u(),_(x,{getdata:"","with-helpdesk":"","hide-save":"",ref:"form"},{toolbar:e(({record:m})=>[t(P,{disabled:!(m.total>0&&m.paymentmode_id),onClick:a[0]||(a[0]=l=>n.$refs.form.postFormCreate()),icon:"payments"},null,8,["disabled"])]),default:e(({combos:{paymentmodes:m},record:l,theme:f})=>[l.details<=0?(u(),_(b,{key:0,class:"text-center"},{default:e(()=>[p(" Tidak ada Pembayaran ")]),_:1})):(u(),_(b,{key:1,class:"pt-10"},{default:e(()=>[(u(!0),v(F,null,T(l.details,(s,g)=>(u(),_($,{lines:"three",key:g,onClick:k=>r.onItemClick(g,l)},{default:e(()=>[o("div",q,[t(y,null,{default:e(()=>[o("div",N,[o("div",null,[t(B,{density:"compact",modelValue:s.selected,"onUpdate:modelValue":k=>s.selected=k,readonly:"",color:f},null,8,["modelValue","onUpdate:modelValue","color"])]),o("div",null,c(s.name),1)]),t(b,{class:U(["px-3 py-2",`bg-${f}-lighten-5`])},{default:e(()=>[t(h,{dense:""},{default:e(()=>[t(d,{class:"caption",cols:"2"},{default:e(()=>[p("Tenor")]),_:1}),t(d,{class:"caption",cols:"5"},{default:e(()=>[p("Tagihan")]),_:1}),t(d,{class:"caption",cols:"5"},{default:e(()=>[p("Jatuh Tempo")]),_:1}),t(d,{cols:"2"},{default:e(()=>[o("small",null,c(s.tenor)+"/"+c(s.tenor_total),1)]),_:2},1024),t(d,{cols:"5"},{default:e(()=>[o("small",null,c(n.formatter.format(s.grandtotal)),1)]),_:2},1024),t(d,{cols:"5"},{default:e(()=>[o("small",null,c(s.duedate),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024)])]),_:2},1032,["onClick"]))),128))]),_:2},1024)),l.details<=0?(u(),v("div",L,[t(y,{color:`${f}-lighten-5`,flat:"",class:"positionfixed","scroll-behavior":"elevate"},{default:e(()=>[o("div",z,[t(d,{cols:"6"},{default:e(()=>[E]),_:1}),t(d,{cols:"6",class:"font-weight-bold"},{default:e(()=>[o("div",J,c(n.formatter.format(l.grandtotal)),1)]),_:2},1024)]),t(h,null,{default:e(()=>[t(d,{cols:"12"},{default:e(()=>[t(V,{items:m,disabled:l.details<=0,label:"Mode Pembayaran",modelValue:l.paymentmode_id,"onUpdate:modelValue":[s=>l.paymentmode_id=s,s=>r.changePaymentMode(s,l)],return_value:"false","hide-details":""},null,8,["items","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["color"])])):(u(),_(y,{key:3,color:`${f}-lighten-5`,flat:"",class:"position-sticky bottom-0 w-100","scroll-behavior":"elevate"},{default:e(()=>[o("div",R,[t(d,{cols:"6"},{default:e(()=>[A]),_:1}),t(d,{cols:"6",class:"font-weight-bold"},{default:e(()=>[o("div",G,c(n.formatter.format(l.grandtotal)),1)]),_:2},1024)]),t(h,null,{default:e(()=>[t(d,{cols:"12"},{default:e(()=>[t(V,{items:m,disabled:l.details<=0,label:"Mode Pembayaran",modelValue:l.paymentmode_id,"onUpdate:modelValue":[s=>l.paymentmode_id=s,s=>r.changePaymentMode(s,l)],return_value:"false","hide-details":""},null,8,["items","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["color"]))]),_:1},512)}const j=w(S,[["render",H],["__scopeId","data-v-97c46a31"]]);export{j as default};
