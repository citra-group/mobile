import{_ as N,c as _,y as e,r as k,o as b,s as t,J as s,bH as R,z as V,V as v,A as m,N as p,X as I,H as f,K as n,L as i,a6 as y,U as A,T as g,R as U,S as D}from"./app-B4E9xsRO.js";import{V as T,a as S}from"./VSlider-vU_t1TVS.js";import{V as G,a as x}from"./VRadioGroup-BW1bsmCx.js";import{V as w}from"./VTable-IwD3Nzib.js";const L={name:"mycoperative-loan-edit",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}),sheet:!1,text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2]}),methods:{fresh(){this.record={...this.record,transfermode:1,bank_type:null,bank_account_name:null,bank_account_number:null}},calculateLoanGrandTotal(u,l){l.total_principal=Math.round(l.total_principal*100)/100,l.percent_interest=l.percent_default*l.tenor,l.total_interest=Math.round(l.total_principal*(l.percent_default/100)*l.tenor*100)/100,l.monthly_interest=Math.round((l.total_principal/l.tenor+l.total_interest/l.tenor)*100)/100,l.grandtotal=l.total_principal+l.admfee+l.total_interest}}},M={class:"text-h5"},P={class:"text-h5"},j={class:"px-4"},F={class:"text-h6"};function K(u,l,$,H,z,r){const B=k("v-currency-field"),C=k("form-edit");return b(),_(C,{"with-helpdesk":""},{default:e(({record:a,theme:d})=>[t(p,{class:"overline py-2 relative"},{default:e(()=>[t(s,{class:"py-2 mt-5 text-end",cols:"12"},{default:e(()=>[t(R,{modelValue:a.loan_type,"onUpdate:modelValue":o=>a.loan_type=o,color:d,rounded:"1",group:""},{default:e(()=>[t(V,{value:"personal"},{default:e(()=>[t(v,null,{default:e(()=>l[3]||(l[3]=[m("person")])),_:1})]),_:1}),t(V,{value:"unit",disabled:!a.is_chief},{default:e(()=>[t(v,null,{default:e(()=>l[4]||(l[4]=[m("apartment")])),_:1})]),_:2},1032,["disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","color"])]),_:2},1024)]),_:2},1024),t(I),t(p,null,{default:e(()=>[t(f,{dense:""},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[n("div",M,i(u.formatter.format(a.total_principal)),1)]),_:2},1024),a.loan_type==="personal"?(b(),_(s,{key:0,cols:"12"},{default:e(()=>[t(T,{color:d,modelValue:a.total_principal,"onUpdate:modelValue":[o=>a.total_principal=o,o=>r.calculateLoanGrandTotal(o,a)],max:a.loan_maximal,min:a.loan_minimal,step:a.loan_step,"hide-details":""},null,8,["color","modelValue","onUpdate:modelValue","max","min","step"])]),_:2},1024)):(b(),_(s,{key:1,cols:"12"},{default:e(()=>[t(B,{color:d,label:"Nominal Pinjaman",modelValue:a.total_principal,"onUpdate:modelValue":o=>a.total_principal=o,onKeyup:o=>r.calculateLoanGrandTotal(o,a)},null,8,["color","modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1024))]),_:2},1024)]),_:2},1024),t(y,{class:"overline"},{default:e(()=>l[5]||(l[5]=[m("Tenor")])),_:1}),t(p,{class:"pt-0"},{default:e(()=>[t(f,{dense:""},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[n("div",P,i(a.tenor)+"x",1)]),_:2},1024),t(s,{cols:"12"},{default:e(()=>[t(T,{color:d,max:a.loan_tenor_maximal,min:a.loan_tenor_minimal,step:1,modelValue:a.tenor,"onUpdate:modelValue":[o=>a.tenor=o,o=>r.calculateLoanGrandTotal(o,a)],"hide-details":""},null,8,["color","max","min","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(y,{class:"overline"}),t(p,{class:"pt-0"}),t(y,{class:"overline"},{default:e(()=>l[6]||(l[6]=[m("Metode pembayaran")])),_:1}),t(p,{class:"pt-0"},{default:e(()=>[t(f,{dense:""},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(G,{modelValue:a.transfermode,"onUpdate:modelValue":o=>a.transfermode=o,"hide-details":"",column:""},{default:e(()=>[t(x,{label:"CASH",value:1,onClick:o=>r.fresh(a)},null,8,["onClick"]),t(x,{label:"BANK",value:2})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(f,{class:"mt-10"},{default:e(()=>[t(s,{cols:"4"},{default:e(()=>[t(A,{color:d,disabled:a.transfermode===1,items:["BRI","BCA","BNI","BTPN","MANDIRI"],label:"Bank",modelValue:a.bank_type,"onUpdate:modelValue":o=>a.bank_type=o,"hide-details":"",variant:"outlined"},null,8,["color","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024),t(s,{cols:"8"},{default:e(()=>[t(g,{color:d,disabled:a.transfermode===1,label:"Atas Nama",modelValue:a.bank_account_name,"onUpdate:modelValue":o=>a.bank_account_name=o,"hide-details":"",variant:"outlined"},null,8,["color","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024),t(s,{cols:"12"},{default:e(()=>[t(g,{color:d,disabled:a.transfermode===1,label:"Nomor Rekening",modelValue:a.bank_account_number,"onUpdate:modelValue":o=>a.bank_account_number=o,variant:"outlined"},null,8,["color","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(U,{class:"position-sticky bottom-0 mx-4",flat:"",color:`${d}-lighten-5`},{default:e(()=>[n("div",j,[l[22]||(l[22]=n("small",null,"Cicilan per bulan",-1)),t(V,{icon:"",onClick:l[0]||(l[0]=o=>u.sheet=!u.sheet),variant:"text",size:"small"},{default:e(()=>[t(v,null,{default:e(()=>l[7]||(l[7]=[m("arrow_drop_up")])),_:1})]),_:1}),n("div",F,i(u.formatter.format(a.monthly_interest)),1),t(S,{modelValue:u.sheet,"onUpdate:modelValue":l[2]||(l[2]=o=>u.sheet=o)},{default:e(()=>[t(U,{style:{"border-top-left-radius":"25px","border-top-right-radius":"25px"}},{default:e(()=>[t(p,null,{default:e(()=>[t(V,{variant:"text",onClick:l[1]||(l[1]=o=>u.sheet=!u.sheet),class:"text-end"},{default:e(()=>l[8]||(l[8]=[m(" close ")])),_:1}),l[20]||(l[20]=n("br",null,null,-1)),l[21]||(l[21]=n("br",null,null,-1)),t(D,null,{default:e(()=>l[9]||(l[9]=[m("Detals Pinjaman")])),_:1}),n("div",null,[t(f,{dense:""},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(w,null,{default:e(()=>[n("tbody",null,[n("tr",null,[l[10]||(l[10]=n("td",null," Total Pokok Pinjaman ",-1)),l[11]||(l[11]=n("td",null,":",-1)),n("td",null,i(u.formatter.format(a.total_principal)),1)]),n("tr",null,[l[12]||(l[12]=n("td",null," Total Bunga [%] ",-1)),l[13]||(l[13]=n("td",null,":",-1)),n("td",null,i(a.percent_interest)+"% ",1)]),n("tr",null,[l[14]||(l[14]=n("td",null," Total Bunga [Rp] ",-1)),l[15]||(l[15]=n("td",null,":",-1)),n("td",null,i(u.formatter.format(a.total_interest)),1)]),n("tr",null,[l[16]||(l[16]=n("td",null,"Admin Fee",-1)),l[17]||(l[17]=n("td",null,":",-1)),n("td",null,i(u.formatter.format(a.admfee)),1)]),n("tr",null,[l[18]||(l[18]=n("td",null,"Grand Total",-1)),l[19]||(l[19]=n("td",null,":",-1)),n("td",null,i(u.formatter.format(a.grandtotal)),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])])]),_:2},1032,["color"]),t(p)]),_:1})}const O=N(L,[["render",K]]);export{O as default};
