import{_ as x,c,y as e,r as w,o as u,s as l,z as T,N as b,A as p,D as v,E as P,F,K as o,J as n,L as m,H as y,T as h,Q as g,G as $,av as B,X as I}from"./mobile-Ca1R9rVu.js";const U={name:"mycoperative-payment-create",data:()=>({datemenu:!1,formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),statuses:[]}),methods:{changePaymentMode(i,a){switch(i){case 1:a.grandtotal=a.total;break;case 2:a.grandtotal=a.total+a.sequence;break;case 3:a.grandtotal=a.total+a.sequence;break}},onItemClick(i,a){a.total=0;for(let d=0;d<a.details.length;d++)a.details[d].selected=!1;for(let d=0;d<=i;d++)switch(a.details[d].selected=!0,a.total=parseFloat(a.total)+parseFloat(a.details[d].grandtotal),a.paymentmode_id){case 1:a.grandtotal=a.total;break;case 2:a.grandtotal=a.total+a.sequence;break;case 3:a.grandtotal=a.total+a.sequence;break}}}},D={class:"d-block pb-2"},M={class:"d-flex pa-2"},N={key:2,class:"ukuran"},q={class:"d-flex"},L={class:"text-end"},z={class:"d-flex"},E={class:"text-end"};function J(i,a,d,R,S,r){const C=w("form-create");return u(),c(C,{getdata:"","with-helpdesk":"","hide-save":"",ref:"form"},{toolbar:e(({record:f})=>[l(T,{disabled:!(f.total>0&&f.paymentmode_id),onClick:a[0]||(a[0]=t=>i.$refs.form.postFormCreate()),icon:"payments"},null,8,["disabled"])]),default:e(({combos:{paymentmodes:f},record:t,theme:_})=>[t.details<=0?(u(),c(b,{key:0,class:"text-center"},{default:e(()=>a[1]||(a[1]=[p(" Tidak ada Pembayaran ")])),_:1})):(u(),c(b,{key:1,class:"pt-10"},{default:e(()=>[(u(!0),v(F,null,P(t.details,(s,k)=>(u(),c($,{lines:"three",key:k,onClick:V=>r.onItemClick(k,t)},{default:e(()=>[o("div",D,[l(g,null,{default:e(()=>[o("div",M,[o("div",null,[l(B,{density:"compact",modelValue:s.selected,"onUpdate:modelValue":V=>s.selected=V,readonly:"",color:_},null,8,["modelValue","onUpdate:modelValue","color"])]),o("div",null,m(s.name),1)]),l(b,{class:I(["px-3 py-2",`bg-${_}-lighten-5`])},{default:e(()=>[l(y,{dense:""},{default:e(()=>[l(n,{class:"caption",cols:"2"},{default:e(()=>a[2]||(a[2]=[p("Tenor")])),_:1}),l(n,{class:"caption",cols:"5"},{default:e(()=>a[3]||(a[3]=[p("Tagihan")])),_:1}),l(n,{class:"caption",cols:"5"},{default:e(()=>a[4]||(a[4]=[p("Jatuh Tempo")])),_:1}),l(n,{cols:"2"},{default:e(()=>[o("small",null,m(s.tenor)+"/"+m(s.tenor_total),1)]),_:2},1024),l(n,{cols:"5"},{default:e(()=>[o("small",null,m(i.formatter.format(s.grandtotal)),1)]),_:2},1024),l(n,{cols:"5"},{default:e(()=>[o("small",null,m(s.duedate),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024)])]),_:2},1032,["onClick"]))),128))]),_:2},1024)),t.details<=0?(u(),v("div",N,[l(g,{color:`${_}-lighten-5`,flat:"",class:"positionfixed","scroll-behavior":"elevate"},{default:e(()=>[o("div",q,[l(n,{cols:"6"},{default:e(()=>a[5]||(a[5]=[o("small",null,"Total Pembayaran",-1)])),_:1}),l(n,{cols:"6",class:"font-weight-bold"},{default:e(()=>[o("div",L,m(i.formatter.format(t.grandtotal)),1)]),_:2},1024)]),l(y,null,{default:e(()=>[l(n,{cols:"12"},{default:e(()=>[l(h,{items:f,disabled:t.details<=0,label:"Mode Pembayaran",modelValue:t.paymentmode_id,"onUpdate:modelValue":[s=>t.paymentmode_id=s,s=>r.changePaymentMode(s,t)],return_value:"false","hide-details":""},null,8,["items","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["color"])])):(u(),c(g,{key:3,color:`${_}-lighten-5`,flat:"",class:"position-sticky bottom-0 w-100","scroll-behavior":"elevate"},{default:e(()=>[o("div",z,[l(n,{cols:"6"},{default:e(()=>a[6]||(a[6]=[o("small",null,"Total Pembayaran",-1)])),_:1}),l(n,{cols:"6",class:"font-weight-bold"},{default:e(()=>[o("div",E,m(i.formatter.format(t.grandtotal)),1)]),_:2},1024)]),l(y,null,{default:e(()=>[l(n,{cols:"12"},{default:e(()=>[l(h,{items:f,disabled:t.details<=0,label:"Mode Pembayaran",modelValue:t.paymentmode_id,"onUpdate:modelValue":[s=>t.paymentmode_id=s,s=>r.changePaymentMode(s,t)],return_value:"false","hide-details":""},null,8,["items","disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["color"]))]),_:1},512)}const G=x(U,[["render",J],["__scopeId","data-v-97c46a31"]]);export{G as default};
