import{_ as A,c as u,w as a,r as c,o as i,V as _,a as t,d as o,b as k,e as p,j as g,k as s,y as v,B as b,g as D,h as N,F as S,I as w,l as m,J as x,m as I,u as X,i as F,E as h,t as f,C as Z}from"./app-Bz4LNFaU.js";import{V as U}from"./VBanner-CtEgH0Am.js";const L={name:"coperative-payment-show",computed:{getEndDate(){var d=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate()+1);return d.toISOString().slice(0,10)}},data:()=>({date:new Date,menuTerima:!1,formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{dateFormated(d){if(!d)return null;const[e,V,y]=d.split("-");return`${y}-${V}-${e}`},sendAcception(d,e){e.$http(`coperative/api/payment/${d.id}/approve`,{method:"PUT",params:d}).then(()=>{e.snackbar.color="green",e.snackbar.text="Berhasil",e.snackbar.state=!0,this.$router.push({name:"coperative-payment"})})}}};function z(d,e,V,y,E,B){const C=c("v-currency-field"),T=c("v-date-input"),$=c("form-show");return i(),u($,{"with-helpdesk":"","hide-edit":"","hide-delete":""},{toolbar:a(({record:l,store:r})=>[l.status!=="SUDAH LUNAS"?(i(),u(_,{key:0,tooltip:"Terima",icon:"",onClick:n=>B.sendAcception(l,r)},{default:a(()=>[t(k,null,{default:a(()=>e[0]||(e[0]=[o("swipe_right")])),_:1})]),_:2},1032,["onClick"])):p("",!0)]),default:a(({record:l,theme:r})=>[t(I,null,{default:a(()=>[t(g,{dense:""},{default:a(()=>[t(s,{cols:"12"},{default:a(()=>[t(v,{label:"Name",modelValue:l.name,"onUpdate:modelValue":n=>l.name=n,dense:"","hide-details":"",variant:"plain",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(b),t(s,{cols:"6"},{default:a(()=>[t(v,{color:`${r} thin`,class:"mt-2",label:"Nomor",modelValue:l.slug,"onUpdate:modelValue":n=>l.slug=n,dense:"","hide-details":"",variant:"outlined",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),t(s,{cols:"6"},{default:a(()=>[t(C,{color:r,class:"mt-2",label:"Total",modelValue:l.grandtotal,"onUpdate:modelValue":n=>l.grandtotal=n,dense:"","hide-details":"",variant:"outlined",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),l.paymentmode==="BANK"?(i(),u(s,{key:0,cols:"12",md:"6"},{default:a(()=>[t(T,{color:r,modelValue:l.paid_at,"onUpdate:modelValue":n=>l.paid_at=n,label:"Tanggal Terima","prepend-icon":"","prepend-inner-icon":"$calendar",variant:"outlined"},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0),(i(!0),D(S,null,N(l.details,n=>(i(),u(X,{key:n.id,class:"mb-4 w-100",flat:""},{default:a(()=>[t(F,{lines:"three",style:{padding:"0%"}},{default:a(()=>[t(h,{class:"px-2 py-2"},{default:a(()=>[o(f(n.name),1)]),_:2},1024),t(b),t(h,{class:Z([`bg-${r}-lighten-5`,"py-4 px-2"])},{default:a(()=>[t(g,null,{default:a(()=>[t(s,{cols:"4"},{default:a(()=>[e[1]||(e[1]=m("div",{class:"pt-2"},"Tenor",-1)),o(" "+f(n.tenor)+"/ "+f(n.tenor_total),1)]),_:2},1024),t(s,{cols:"4"},{default:a(()=>[e[2]||(e[2]=m("div",{class:"pt-2"},"Total",-1)),o(" "+f(d.formatter.format(n.grandtotal)),1)]),_:2},1024),t(s,{cols:"4"},{default:a(()=>[e[3]||(e[3]=m("div",{class:"pt-2"},"Jatuh Tempo",-1)),o(" "+f(n.duedate),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128)),l.paymode==="CASH"?(i(),u(s,{key:1,cols:"12"},{default:a(()=>[t(U,{"two-line":""},{default:a(()=>[t(w,{color:"deep-purple accent-4",size:"40"},{default:a(()=>[t(k,{color:"white"},{default:a(()=>e[4]||(e[4]=[o("privacy_tip")])),_:1})]),_:1}),e[5]||(e[5]=o(" Untuk melakukan pembayaran silahkan datang ke kantor pusat. "))]),_:1})]),_:1})):p("",!0),l.paymode==="BANK"?(i(),u(s,{key:2,cols:"12"},{default:a(()=>[t(U,{"two-line":""},{default:a(()=>[t(w,{color:"deep-purple accent-4",size:"40"},{default:a(()=>[t(k,{color:"white"},{default:a(()=>e[6]||(e[6]=[o("privacy_tip")])),_:1})]),_:1}),e[7]||(e[7]=o(" Pembayaran dapat dilakukan dengan cara transfer ke ")),e[8]||(e[8]=m("ul",null,[m("li",null,"Bank BCA dengan nomor rekening XXXXXXXX"),m("li",null," Bank Mandiri dengan nomor rekening ZZZZZZZ ")],-1)),e[9]||(e[9]=o(" Setelah transfer dilakukan, silahkan unggah bukti bayar dibawah ini. "))]),_:1})]),_:1})):p("",!0),l.paymode==="BANK"&&l.transfer_path?(i(),u(s,{key:3,cols:"12"},{default:a(()=>[t(x,{src:l.transfer_path},null,8,["src"])]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1024)]),info:a(({record:l,store:r,theme:n})=>[l.status==="SUDAH LUNAS"?(i(),u(_,{key:0,class:"mt-2",color:n,block:"",onClick:H=>d.downloadReceipt(l,r)},{default:a(()=>e[10]||(e[10]=[o("Unduh Tanda Terima")])),_:2},1032,["color","onClick"])):p("",!0)]),_:1})}const J=A(L,[["render",z]]);export{J as default};
