import{_ as y,c as u,y as t,r as p,o as m,z as b,s as e,A as v,V as x,B as T,K as h,L as U,a4 as $,H as g,J as i,S as f,a1 as k,N as C}from"./app-zvvoUnx2.js";import{V as N}from"./VTextarea-CLVuHqzY.js";const R={name:"mycoperative-withdrawal-show",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{publishCurrentSubmission(o,l){l.$http(`mycoperative/api/withdrawal/${o.id}/publish`,{method:"PUT",params:o}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},closeThisTransaction(o,l){l.$http(`mycoperative/api/withdrawal/${o.id}/close-by-cash`,{method:"PUT",params:o}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},downloadReceiptOfTransaction(o,l){l.$http(`mycoperative/api/receipt/${o.slug}`,{method:"GET",responseType:"blob"}).then(r=>{const c=new Blob([r],{type:"application/pdf"}),d=document.createElement("a");d.href=URL.createObjectURL(c),d.download=o.slug+".pdf",d.click(),URL.revokeObjectURL(d.href),l.loader.state=!1}).catch(()=>{})}}},B={class:"text-caption pr-1 pl-2"};function I(o,l,r,c,d,V){const _=p("v-currency-field"),w=p("form-show");return m(),u(w,{"with-helpdesk":"","hide-delete":"","hide-edit":"",ref:"form"},{toolbar:t(({record:a,store:s})=>[a.status==="COMPLETED"?(m(),u(b,{key:0,icon:"",onClick:n=>V.downloadReceiptOfTransaction(a,s)},{default:t(()=>[e(x,null,{default:t(()=>l[0]||(l[0]=[v("print")])),_:1})]),_:2},1032,["onClick"])):T("",!0)]),default:t(({record:a,theme:s})=>[e($,{color:s,class:"position-absolute d-flex pa-1",rounded:"pill",style:{top:"8px",right:"8px"}},{default:t(()=>[l[1]||(l[1]=h("div",{class:"text-caption bg-white rounded-pill px-2"},"STS",-1)),h("div",B,U(a.status),1)]),_:2},1032,["color"]),e(C,null,{default:t(()=>[e(g,{dense:""},{default:t(()=>[e(i,{cols:"12"},{default:t(()=>[e(f,{label:"Nomor",variant:"outlined",modelValue:a.slug,"onUpdate:modelValue":n=>a.slug=n,color:s,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue","color"])]),_:2},1024),e(i,{cols:"12"},{default:t(()=>[e(f,{label:"name",variant:"outlined",color:s,modelValue:a.name,"onUpdate:modelValue":n=>a.name=n,readonly:"","hide-details":""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{cols:"12"},{default:t(()=>[e(_,{label:"Nominal",variant:"outlined",color:s,modelValue:a.total,"onUpdate:modelValue":n=>a.total=n,"hide-details":"",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{cols:"12"},{default:t(()=>[e(N,{label:"Keterangan",rows:"3",variant:"outlined",color:s,modelValue:a.description,"onUpdate:modelValue":n=>a.description=n,readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{cols:"12"},{default:t(()=>[e(k,{src:a.transfer_path},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},512)}const D=y(R,[["render",I],["__scopeId","data-v-db83a8cb"]]);export{D as default};
